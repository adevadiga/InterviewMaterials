/**
 * Event handler.
 * Fires when user's camera goes live.
 */function initWebcam(){Webcam.set({width:100,height:100,dest_width:240,dest_height:180,image_format:"jpeg",jpeg_quality:80,force_flash:!1}),Webcam.attach("#my-camera")}function takeSnapshotAfter(a,b){return(Math.random()*(a-b)+b)*1e3}function takeSnapshot(){var a=$("#upload-snapshot-url").text();Webcam.snap(function(b){Webcam.upload(b,a,function(a,b){var c=takeSnapshotAfter(300,600);setTimeout(takeSnapshot,c)})})}Webcam.on("live",function(){if($(".test-snapshot-button").length){$(".test-snapshot-button").text("Redirecting to test page..."),location.href=$(".test-snapshot-button").attr("href");return}$("#my-camera").removeClass("hidden"),$("#take-candidate-snapshot").addClass("hidden"),$(".load-javascript-div").removeClass("hidden"),$("#problem-detail-wrapper").removeClass("hidden");try{setTimeout(function(){update_height(editor_global.getSession())},1e3)}catch(a){}setTimeout(takeSnapshot,1e4)}),Webcam.on("error",function(a){a=="Could not access webcam."&&(webcam_enabled=!1,$("#webcam-error").text("Could not access webcam. Enable webcam or use latest version of chrome/firefox browser."),$("#webcam-error").show(),$("#my-camera").hide())}),$(".allow-webcam-access").live("click",initWebcam);